
<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en-us">
  <head>
    <meta http-equiv="content-type" content="text/html; charset=utf-8" />
    <meta name="author" content="Eric Zhong" />
    
    <title>SSH密钥登入</title>
    
    <link rel="shortcut icon" href="/favicon.ico">
    <link href="/atom.xml" rel="alternate" title="" type="application/atom+xml" />
    <link rel="stylesheet" href="/assets/themes/sext-v/css/style.css">
    <link rel="stylesheet" href="/assets/themes/sext-v/css/github.css">
    <link rel="stylesheet" href="/assets/themes/sext-v/css/fontawesome.css">
    <!--[if IE 7]>
    <link rel="stylesheet" href="/assets/themes/sext-v/css/fontawesome-ie7.css">
    <![endif]-->
    <script type="text/javascript" src="/assets/themes/sext-v/js/highlight.pack.js"></script>
    <script type="text/javascript">
      hljs.initHighlightingOnLoad();
    </script>
  </head>
  <body>
      <div id="main" role="main">
        <header>
          <div id="header">
            <h1><a title="Eric Zhong" class="" href="/">Eric Zhong</a></h1>
          </div>
          <nav>
            <span><a title="Archive" class="icon-list-ul" href="/archive.html"></a></span>
            <span><a title="Tags" class="icon-tags" href="/tags.html"></a></span>
            <span><a title="Blogroll" class="icon-link" href="/links.html"></a></span>
            <span><a title="Subscribe" class="icon-rss" href="/atom.xml"></a></span>
          </nav>
        </header>
        <div id="content">
        
<article>
  <section class="title">
    <h2>SSH密钥登入 </h2>
  </section>
  <section class="meta">
  <span class="time">
    <time datetime="2013-10-18">2013-10-18</time>
  </span>
  
  <span class="tags">
    
    <a href="/tags.html#ssh" title="ssh">#ssh</a>
    
  </span>
  
  </section>
  <section class="post">
  <h2>在客户端建立公钥和私钥</h2>

<p>在<code>~/.ssh</code>下生成公钥<code>id_rsa.pub</code>和私钥<code>id_rsa</code></p>

<pre><code>ssh-keygen -t rsa       # 一路回车
</code></pre>

<h2>配置ssh服务器</h2>

<p>修改<code>/etc/ssh/sshd_config</code></p>

<pre><code># 禁止root登录
PermitRootLogin no

# 防止客户端`~/.ssh`目录权限配置不对
StrictModes no

# 使用成对密钥鉴权
RSAAuthentication yes
PubkeyAuthentication yes
AuthorizedKeysFile    .ssh/authorized_keys

# 禁止密码登录
PasswordAuthentication no
</code></pre>

<h2>将公钥放至ssh服务器</h2>

<p>复制公钥到服务器</p>

<pre><code>scp ~/.ssh/id_rsa.pub &lt;USER&gt;@&lt;IP&gt;:~
</code></pre>

<p>登录ssh服务器,添加公钥</p>

<pre><code>cat id_rsa.pub &gt;&gt; ~/.ssh/authorized_keys
</code></pre>

<p>重启服务后配置生效</p>

<pre><code>/etc/init.d/sshd restart
</code></pre>

<h2>客户端访问</h2>

<p>默认使用私钥<code>~/.ssh/id_rsa</code></p>

<pre><code>ssh &lt;USER&gt;@&lt;IP&gt; 
</code></pre>

<p>也可以指定私钥</p>

<pre><code>ssh -i ~/.ssh/id_rsa &lt;USER&gt;@&lt;IP&gt;
</code></pre>

  </section>
  
</article>


<section id="page_nav">
  
  <a href='/2013/09/28/python-lib'>← Previous</a>
  
  
  <a href='/2013/10/22/wsgi'>Next →</a>
  
</section>



        </div>
        <footer>
          <div>
            &copy; 2013 ~ 2015 Eric Zhong | powered by jekyll | themed by <a href="http://jiangle.name" title="jiangle">jiangle</a> | fork <a href="https://github.com/ericzhong/blog" title="fork me">me</a>
          </div>
        </footer>
      </div> <!-- main -->
  </body>
</html>

